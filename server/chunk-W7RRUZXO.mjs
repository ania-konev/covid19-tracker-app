import './polyfills.server.mjs';
import{j as a,m as s}from"./chunk-3MHJVGBJ.mjs";var f=(()=>{let t=class t{constructor(){this.cache=new Map}get(e){let r=this.cache.get(e);if(!r)return;if(new Date().getTime()>r.expiry){this.cache.delete(e);return}return r.value}set(e,r,n=3e5){let o=new Date().getTime()+n;return this.cache.set(e,{expiry:o,value:r}),r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let c=t;return c})();var p=(()=>{let t=class t{constructor(e){this.cacheService=e}getSummaryData(){let e=this.cacheService.get("summaryData");return e===void 0?fetch("https://covid-api.com/api/reports").then(o=>o.json()).then(o=>this.cacheService.set("summaryData",o)):Promise.resolve(e)}};t.\u0275fac=function(r){return new(r||t)(s(f))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let c=t;return c})();function v(c=[],t="name"){let i=new Map;for(let e of c){let r=e.region[t],n=i.get(r),o=n===void 0?e.confirmed:n.confirmed+e.confirmed,d=n===void 0?e.deaths:n.deaths+e.deaths,u=n===void 0?e.recovered:n.recovered+e.recovered;i.set(r,{confirmed:o,deaths:d,recovered:u})}return i}export{v as a,p as b};
